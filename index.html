<!doctype html>
<html lang="no">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Kapitler — Spillelister</title>
  <link href="https://fonts.googleapis.com/css2?family=Archivo+Black&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
  <style>
    :root {
      --paper:#F1E3CF;
      --ink:#111;
      --muted:#3D3A36;
      --maxw:1120px;
      --radius:10px;
      --shadow:0 12px 28px rgba(0,0,0,.12);
      --gap:26px;
    }
    * { box-sizing:border-box; }
    body {
      margin:0;
      background:var(--paper);
      color:var(--ink);
      font-family:Inter, sans-serif;
      line-height:1.65;
      -webkit-font-smoothing:antialiased;
    }

    body::before {
      content:"";
      position:fixed;
      inset:0;
      pointer-events:none;
      background: radial-gradient(120% 120% at 75% 15%, rgba(0,0,0,.05), transparent 60%),
                  radial-gradient(140% 120% at 10% 90%, rgba(0,0,0,.04), transparent 60%);
      mix-blend-mode:multiply;
      opacity:.25;
    }

    .container { max-width:var(--maxw); margin:0 auto; padding:48px 20px 24px; }

    header.brev { padding-top:56px; text-align:center; }
    .brev h1 {
      font-family:"Archivo Black";
      font-size:clamp(2rem,3.2vw,2.6rem);
      margin:0 0 12px;
    }
    .brev p {
      font-family:"Newsreader", serif;
      font-style:italic;
      color:var(--muted);
      max-width:70ch;
      margin:0 auto;
    }

    main { padding:16px 20px 72px; }
    .grid {
      display:grid;
      gap:var(--gap);
      grid-template-columns:repeat(3,1fr);
      max-width:var(--maxw);
      margin:0 auto;
    }

    .plate {
      display:block;
      border-radius:var(--radius);
      overflow:hidden;
      background:rgba(255,255,255,.55);
      border:1px solid rgba(0,0,0,.08);
      box-shadow:var(--shadow);
      text-decoration:none;
      color:inherit;
      position:relative;
      transform:translateY(0);
      transition:transform .4s ease, box-shadow .4s ease;
      animation: floaty 6s ease-in-out infinite;
    }

    .plate:nth-child(2n) { animation-delay:1.2s; }
    .plate:nth-child(3n) { animation-delay:2.4s; }

    @keyframes floaty {
      0%,100% { transform:translateY(0); }
      50% { transform:translateY(-6px); }
    }

    .stripe {
      position:absolute;
      top:0; left:0; right:0;
      height:6px;
      background: linear-gradient(90deg, #0073C6, #D93C3C, #C9A66B, #5B4A58, #AEC6CF);
      background-size: 400% 100%;
      animation: stripeFlow 20s linear infinite;
    }

    @keyframes stripeFlow {
      0% { background-position:0% 50%; }
      100% { background-position:400% 50%; }
    }

    .cover {
      width:100%;
      aspect-ratio:1/1;
      object-fit:cover;
      display:block;
    }

    footer {
      text-align:center;
      color:var(--muted);
      font-size:.95rem;
      padding:0 20px 64px;
    }
    .sweet { display:inline-flex; align-items:center; gap:10px; }
    .seed { width:10px; height:10px; border-radius:50%; background:#E25C44; }
  </style>
</head>
<body>
  <header class="brev container" aria-label="Brev fra Marcus til Athina">
    <h1>Kjære Athina</h1>
    <p>Jeg ville lage et lite sted for oss, et sted hvor musikken kan få samle seg, kapittel for kapittel. Når du trykker på listene, håper jeg du kjenner at jeg tenker på deg</p>
  </header>

  <main>
    <section class="grid" id="grid" aria-label="Spillelister"></section>
  </main>

  <footer>
    <span class="sweet"><span class="seed"></span> Laget med omtanke — Marcus</span>
  </footer>

  <script>
    async function loadPlaylists(){
      try {
        const res = await fetch('playlist.json', { cache: 'no-cache' });
        const data = await res.json();
        renderPlaylists(Array.isArray(data) ? data : []);
      } catch(err){
        console.error('Kunne ikke laste playlist.json', err);
      }
    }

    function renderPlaylists(list){
      const grid = document.getElementById('grid');
      grid.innerHTML = '';
      list.forEach(pl => {
        const card = document.createElement('a');
        card.className = 'plate';
        card.href = pl.url;
        card.target = '_blank';
        card.rel = 'noopener';

        const stripe = document.createElement('span');
        stripe.className = 'stripe';

        const img = document.createElement('img');
        img.className = 'cover';
        img.src = pl.cover;
        img.alt = `${pl.title} cover`;
        img.loading = 'lazy';

        card.append(stripe,img);
        grid.appendChild(card);
      });
    }

    loadPlaylists();
  </script>
</body>
</html>
