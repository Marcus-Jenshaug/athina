<!doctype html>
<html lang="no">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Kapitler — Spillelister</title>

  <!-- Typografi -->
  <link href="https://fonts.googleapis.com/css2?family=Archivo+Black&family=Inter:wght@300;400;500;600&family=Newsreader:ital,wght@1,400;1,500&display=swap" rel="stylesheet">

  <style>
    :root{
      --paper:#F1E3CF;
      --ink:#111111;
      --muted:#3D3A36;
      --maxw:1120px;
      --radius:10px;
      --shadow:0 12px 28px rgba(0,0,0,.12);
      --gap:26px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}

    body{
      margin:0;
      background:var(--paper);
      color:var(--ink);
      font-family:Inter, system-ui, sans-serif;
      line-height:1.65;
      -webkit-font-smoothing:antialiased;
      text-rendering:optimizeLegibility;
    }

    /* Bakgrunn med tekstur og animasjon */
    body::before, body::after{
      content:"";position:fixed;inset:0;pointer-events:none;z-index:0;
    }
    body::before{
      background: radial-gradient(120% 120% at 75% 15%, rgba(0,0,0,.06), transparent 55%),
                  radial-gradient(140% 120% at 10% 90%, rgba(0,0,0,.05), transparent 55%);
      mix-blend-mode:multiply;
      opacity:.28;
      animation: vignetteDrift 18s ease-in-out infinite alternate;
    }
    body::after{
      background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="180" height="180"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="2" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.25"/></svg>');
      opacity:.12;mix-blend-mode:multiply;
      animation: grainSlide 6s linear infinite;
    }
    @keyframes vignetteDrift{to{transform:translateY(-1.5%);}}
    @keyframes grainSlide{to{transform:translateX(-2%);}}

    .container{position:relative;z-index:1;max-width:var(--maxw);margin:0 auto;padding:48px 20px 24px}

    header.brev{text-align:center;padding-top:56px}
    .brev h1{
      font-family:"Archivo Black", sans-serif;font-weight:400;letter-spacing:.01em;
      font-size:clamp(2rem,3.2vw,2.6rem);margin:0 0 12px;
    }
    .brev p{font-family:"Newsreader",serif;font-style:italic;color:var(--muted);max-width:70ch;margin:0 auto;font-size:clamp(1.02rem,1.2vw,1.15rem)}

    main{padding:16px 20px 72px}
    .grid{display:grid;gap:var(--gap);grid-template-columns:repeat(auto-fit,minmax(280px,1fr));max-width:var(--maxw);margin:0 auto}

    .plate{
      display:block;position:relative;border-radius:var(--radius);overflow:hidden;
      text-decoration:none;color:inherit;background:rgba(255,255,255,.55);
      border:1px solid rgba(0,0,0,.08);box-shadow:var(--shadow);
      transition:.25s ease all;transform:translateZ(0);
    }
    .plate:hover{transform:translateY(-4px);box-shadow:0 16px 32px rgba(0,0,0,.16)}

    .stripe{
      position:absolute;inset:0 0 auto 0;height:6px;z-index:2;
      background:linear-gradient(90deg,#2b2723,#6a5f56,#a08f80,rgba(0,0,0,.1));
      background-size:200% 100%;
      animation: stripeSlide 3s linear infinite;
    }
    @keyframes stripeSlide{to{background-position:-200% 0}}

    .cover{width:100%;aspect-ratio:1/1;object-fit:cover;transition:transform .6s cubic-bezier(.2,.7,.2,1)}
    .plate:hover .cover{transform:scale(1.04) rotate(.3deg)}

    .meta{padding:14px 16px;background:linear-gradient(180deg, rgba(241,227,207,.6), rgba(241,227,207,.4));border-top:1px solid rgba(0,0,0,.06)}
    .tittel{
      margin:0 0 6px;font-family:"Archivo Black",sans-serif;text-transform:uppercase;letter-spacing:.05em;font-size:1.18rem;position:relative;
    }
    .tittel::after{content:"";position:absolute;bottom:-3px;left:0;width:28px;height:1px;background:currentColor;opacity:.25;transition:.3s ease}
    .plate:hover .tittel::after{width:40px;opacity:.4}

    .under{margin:0;color:var(--muted);font-family:"Newsreader",serif;font-style:italic;font-size:.98rem}

    footer{text-align:center;color:var(--muted);font-size:.95rem;padding:0 20px 64px}
    .sweet{display:inline-flex;align-items:center;gap:10px}
    .seed{width:10px;height:10px;border-radius:50%;background:#E25C44;box-shadow:0 0 0 0 rgba(226,92,68,.4);animation:seedPulse 2.6s ease-out infinite}
    @keyframes seedPulse{0%{box-shadow:0 0 0 0 rgba(226,92,68,.4)}70%{box-shadow:0 0 0 12px rgba(226,92,68,0)}100%{box-shadow:0 0 0 0 rgba(226,92,68,0)}}
  </style>
</head>
<body>
  <header class="brev container">
    <h1>Kjære Athina</h1>
    <p>Jeg ville lage et lite sted for oss, et sted hvor musikken kan få samle seg, kapittel for kapittel. Når du trykker på listene, håper jeg du kjenner at jeg tenker på deg</p>
  </header>

  <main>
    <section class="grid" id="grid"></section>
  </main>

  <footer>
    <span class="sweet"><span class="seed"></span> Laget med omtanke — Marcus</span>
  </footer>

  <script>
    async function loadPlaylists(){
      try{
        const res = await fetch('playlist.json',{cache:'no-cache'});
        const data = await res.json();
        renderPlaylists(Array.isArray(data)?data:[]);
      }catch(e){console.error(e);renderPlaylists([])}
    }

    function renderPlaylists(list){
      const grid=document.getElementById('grid');
      grid.innerHTML='';
      list.forEach(pl=>{
        const card=document.createElement('a');
        card.className='plate';
        card.href=pl.url;card.target='_blank';card.rel='noopener';

        const stripe=document.createElement('span');stripe.className='stripe';
        const img=document.createElement('img');img.className='cover';img.src=pl.cover;img.alt=pl.title;img.loading='lazy';

        const meta=document.createElement('div');meta.className='meta';
        const h=document.createElement('h2');h.className='tittel';h.textContent=pl.title;
        const s=document.createElement('p');s.className='under';s.textContent=pl.subtitle;
        meta.append(h,s);

        card.append(stripe,img,meta);
        grid.appendChild(card);
      });
    }
    loadPlaylists();
  </script>
</body>
</html>
