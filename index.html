<!doctype html>
<html lang="no">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Kapitler — Spillelister</title>
  <!-- Typografi (print-inspirert) -->
  <link href="https://fonts.googleapis.com/css2?family=Archivo+Black&family=Inter:wght@300;400;600&family=Newsreader:ital,wght@0,300;1,300&display=swap" rel="stylesheet">
  <style>
    :root {
      /* ENDRET: basebakgrunn satt til ønsket farge */
      --paper:#729092; /* <- hovedbakgrunn */
      --ink:#111;
      --muted:#3D3A36;
      --maxw:1120px;
      --radius:10px;
      --shadow:0 12px 28px rgba(0,0,0,.12);
      --gap:26px;
      /* aksentpalett brukt i stripe og glimt */
      --acc-blue:#0073C6;
      --acc-red:#D93C3C;
      --acc-gold:#C9A66B;
      --acc-plum:#5B4A58;
      --acc-sky:#AEC6CF;
    }
    * { box-sizing:border-box; }
    body {
      margin:0;
      /* Viktig: reell bakgrunn = eksakt #729092 */
      background:var(--paper);
      color:var(--ink);
      font-family:Inter, sans-serif;
      line-height:1.65;
      -webkit-font-smoothing:antialiased;
      position:relative;
      overflow-x:hidden;
    }

    /* Papirtekstur/vignett legges under tint og innhold, så den ikke lysner fargen */
    body::before {
      content:"";
      position:fixed; inset:0; pointer-events:none; z-index:0; /* under glød og tint */
      background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="220" height="220"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.85" numOctaves="2"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.22"/></svg>');
      mix-blend-mode:multiply; opacity:.14; /* litt lavere så den ikke skifter lyshet */
      animation: grainShift 24s steps(2,end) infinite;
    }
    body::after{
      content:""; position:fixed; inset:-10% -10%; pointer-events:none; z-index:0; /* under glød og tint */
      background:
        radial-gradient(40% 35% at 20% 25%, rgba(0,0,0,.06), rgba(0,0,0,0) 60%),
        radial-gradient(45% 40% at 80% 70%, rgba(0,0,0,.05), rgba(0,0,0,0) 60%),
        radial-gradient(55% 50% at 50% 10%, rgba(0,0,0,.04), rgba(0,0,0,0) 65%);
      opacity:.28; mix-blend-mode:multiply;
      animation: vignetteDrift 80s linear infinite;
    }
    @keyframes grainShift { 0%,100%{transform:translate3d(0,0,0)} 50%{transform:translate3d(1px,-1px,0)} }
    @keyframes vignetteDrift { 0%{transform:translate3d(0,0,0)} 50%{transform:translate3d(1.5%,-1.5%,0)} 100%{transform:translate3d(0,0,0)} }

    /* Ny, lettvekts glød */
    .glow-wrap { position: fixed; inset: 0; z-index: 1; pointer-events: none; }
    .glow-layer {
      position: absolute; inset: -15% -15%;
      /* 2–3 radiale graderinger, ingen filter */
      background:
        radial-gradient(35% 35% at 20% 25%, rgba(0,115,198,0.35), transparent 60%),
        radial-gradient(40% 40% at 75% 70%, rgba(217,60,60,0.28), transparent 62%),
        radial-gradient(30% 30% at 50% 15%, rgba(201,166,107,0.22), transparent 65%);
      opacity: 0.35;
      will-change: transform, opacity;
      contain: paint;
      transform: translate3d(0,0,0) scale(1);
      animation: glowDrift 120s linear infinite;
    }

    /* Valgfri andre layer for dybde (kan tones ned på mobil) */
    .glow-layer.b {
      opacity: 0.28;
      background:
        radial-gradient(30% 30% at 30% 75%, rgba(91,74,88,0.22), transparent 60%),
        radial-gradient(28% 28% at 80% 25%, rgba(174,198,207,0.18), transparent 62%);
      animation: glowDriftSlow 140s linear infinite;
    }

    @keyframes glowDrift {
      0%   { transform: translate3d(-2%, -1%, 0) scale(1.02); }
      50%  { transform: translate3d( 2%,  1%, 0) scale(1.00); }
      100% { transform: translate3d(-2%, -1%, 0) scale(1.02); }
    }
    @keyframes glowDriftSlow {
      0%   { transform: translate3d( 2%,  1%, 0) scale(1.01); }
      50%  { transform: translate3d(-2%, -1%, 0) scale(1.00); }
      100% { transform: translate3d( 2%,  1%, 0) scale(1.01); }
    }

    /* Mobil og redusert bevegelse */
    @media (max-width: 768px), (hover: none), (pointer: coarse) {
      .glow-layer { animation: none; opacity: 0.28; }
      .glow-layer.b { display: none; }
    }

    @media (prefers-reduced-motion: reduce) {
      .glow-layer, .glow-layer.b { animation: none; }
    }

    .container { max-width:var(--maxw); margin:0 auto; padding:48px 20px 24px; position:relative; z-index:2; }

    header.brev { padding-top:56px; text-align:center; position: relative; z-index: 2; }
    .brev h1 { font-family:"Archivo Black"; font-size:clamp(2rem,3.2vw,2.6rem); margin:0 0 12px; }
    .brev p { font-family:"Newsreader", serif; font-style:italic; color:var(--muted); max-width:70ch; margin:0 auto; }

    main { padding:16px 20px 72px; position:relative; z-index:2; }
    .grid { display:grid; gap:var(--gap); grid-template-columns:repeat(3,minmax(0,1fr)); max-width:var(--maxw); margin:0 auto; }

    /* Kort med naturlig vind-bølge animasjon */
    .plate { display:block; border-radius:var(--radius); overflow:hidden; background:rgba(255,255,255,.55); border:1px solid rgba(0,0,0,.08); box-shadow:var(--shadow); text-decoration:none; color:inherit; position:relative; transform:translateZ(0); transition:box-shadow .4s ease; will-change:transform; animation: wind 14s cubic-bezier(.45,.05,.35,.95) infinite; }
    .plate:hover { box-shadow:0 16px 32px rgba(0,0,0,.16); }
    .plate:nth-child(2n) { animation-delay:2.5s; }
    .plate:nth-child(3n) { animation-delay:5s; }
    @keyframes wind { 0%{ transform:translateY(0) rotate(0deg);} 25%{ transform:translateY(-6px) rotate(-0.25deg);} 50%{ transform:translateY(3px) rotate(0.2deg);} 75%{ transform:translateY(-4px) rotate(-0.15deg);} 100%{ transform:translateY(0) rotate(0deg);} }
    @media (prefers-reduced-motion: reduce){ .plate{ animation:none; } }

    /* Ytelsesforbedringer for rendering */
    header.container, main, footer {
      content-visibility: auto;
    }

    /* Stripe med rolig, sømløs fargedrift */
    .stripe { position:absolute; top:0; left:0; right:0; height:6px; background:linear-gradient(90deg,var(--acc-blue),var(--acc-red),var(--acc-gold),var(--acc-plum),var(--acc-sky),var(--acc-blue)); background-size:500% 100%; animation: stripeFlow 120s linear infinite; }
    @keyframes stripeFlow { 0%{background-position:0% 50%;} 100%{background-position:100% 50%;} }

    .cover { width:100%; aspect-ratio:1/1; object-fit:cover; display:block; }

    footer { text-align:center; font-size:1rem; padding:0 20px 64px; position:relative; z-index:2; }
    .footer-note { font-family:"Inter", sans-serif; font-size:0.95rem; color:var(--muted); margin-bottom:12px; }
    .quote { max-width:800px; margin:0 auto; font-family:"Newsreader", serif; font-style:italic; font-size:1.1rem; line-height:1.9; color:var(--muted); text-align:center; }
    .quote strong { font-family:"Archivo Black", sans-serif; font-style:normal; font-size:1.15rem; margin:0 4px; color:var(--ink); }
  </style>
</head>
<body>
  <!-- Ny, lettvekts glød -->
  <div class="glow-wrap" aria-hidden="true">
    <div class="glow-layer"></div>
    <div class="glow-layer b"></div>
  </div>

  <header class="brev container" aria-label="Brev fra Marcus til Athina">
    <h1>Kjære Athina</h1>
    <p>Jeg har laget dette lille stedet for oss, et sted hvor musikken kan samle seg, kapittel for kapittel. Når du åpner listene, håper jeg du kjenner at tankene mine er hos deg.</p>
  </header>

  <main>
    <section class="grid" id="grid" aria-label="Spillelister"></section>
  </main>

  <footer>
    <p class="footer-note">En liten hilsen fra meg, et sitat jeg satte pris på.</p>
    <p class="quote">
      <strong>If we're dating</strong>, I don't want to be your first priority. I shouldn't be. 
      I want your first priority to be you, your ambitions, your life, and your future. 
      <strong>Stay focused</strong>, I want the best for you. I want to be your motivation, your support, your help to grow. 
      <strong>I'm not gonna let you give up on yourself.</strong> I got you if you got me.
    </p>
  </footer>

  <script>
    async function loadPlaylists(){
      try{
        const res=await fetch('playlist.json',{cache:'no-cache'});
        const data=await res.json();
        renderPlaylists(Array.isArray(data)?data:[]);
      }catch(e){console.error(e);}    }
    function renderPlaylists(list){
      const grid=document.getElementById('grid');
      grid.innerHTML='';
      list.forEach((pl)=>{
        const card=document.createElement('a');
        card.className='plate';
        card.href=pl.url;card.target='_blank';card.rel='noopener';
        const stripe=document.createElement('span');stripe.className='stripe';
        const img=document.createElement('img');img.className='cover';img.src=pl.cover;img.alt=`${pl.title||''} cover`;img.loading='lazy';img.decoding='async';
        card.append(stripe,img);
        grid.appendChild(card);
      });
    }
    document.addEventListener('DOMContentLoaded',loadPlaylists);
  </script>
</body>
</html>
