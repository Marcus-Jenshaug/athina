<!doctype html>
<html lang="no">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Kapitler — Spillelister</title>

  <!-- Typografi: Archivo Black (overskrifter) + Inter (brød) + Newsreader (brev) -->
  <link href="https://fonts.googleapis.com/css2?family=Archivo+Black&family=Inter:wght@300;400;500;600&family=Newsreader:ital,wght@1,400;1,500&display=swap" rel="stylesheet">

  <style>
    :root{
      /* Nøytral “platecover” stil (papir + blekk) som passer begge coverne */
      --paper:#F1E3CF;   /* krem bakgrunn */
      --ink:#111111;     /* blekk/svart */
      --muted:#3D3A36;   /* dempet gråbrun */

      --maxw:1120px;
      --radius:10px;
      --shadow:0 12px 28px rgba(0,0,0,.12);
      --gap:26px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; background:var(--paper); color:var(--ink);
      font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      line-height:1.65; -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
    }

    /* Papirtekstur + subtil vignett for platecover-følelse */
    body::before, body::after{content:""; position:fixed; inset:0; pointer-events:none; z-index:0}
    body::before{
      background:
        radial-gradient(120% 120% at 75% 15%, rgba(0,0,0,.06) 0%, rgba(0,0,0,0) 55%),
        radial-gradient(140% 120% at 10% 90%, rgba(0,0,0,.05) 0%, rgba(0,0,0,0) 55%);
      mix-blend-mode:multiply; opacity:.28;
    }
    body::after{
      background-image:url('data:image/svg+xml;utf8,\
<svg xmlns="http://www.w3.org/2000/svg" width="180" height="180" viewBox="0 0 180 180">\
<filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="2" stitchTiles="stitch"/></filter>\
<rect width="100%" height="100%" filter="url(%23n)" opacity="0.25"/></svg>');
      opacity:.12; mix-blend-mode:multiply;
    }

    .container{position:relative; z-index:1; max-width:var(--maxw); margin:0 auto; padding:48px 20px 24px}

    /* Brev øverst */
    header.brev{padding-top:56px; text-align:center}
    .brev h1{font-family:"Archivo Black", system-ui, sans-serif; font-weight:400; letter-spacing:0.01em; font-size:clamp(2rem,3.2vw,2.6rem); line-height:1.08; margin:0 0 12px}
    .brev p{font-family:"Newsreader", Georgia, serif; font-style:italic; color:var(--muted); max-width:70ch; margin:0 auto; font-size:clamp(1.02rem,1.2vw,1.15rem)}

    /* Grid tre og tre */
    main{padding:16px 20px 72px}
    .grid{display:grid; gap:var(--gap); grid-template-columns:repeat(1,minmax(0,1fr)); max-width:var(--maxw); margin:0 auto}
    @media (min-width:720px){ .grid{ grid-template-columns:repeat(2,minmax(0,1fr)); } }
    @media (min-width:1040px){ .grid{ grid-template-columns:repeat(3,minmax(0,1fr)); } }

    /* Kort som hele lenker (klikkbare) */
    .plate{ display:block; position:relative; border-radius:var(--radius); overflow:hidden; text-decoration:none; color:inherit; background:rgba(255,255,255,.55); border:1px solid rgba(0,0,0,.08); box-shadow:var(--shadow); transition:transform .2s ease, box-shadow .2s ease, border-color .2s ease }
    .plate:hover{ transform:translateY(-3px); box-shadow:0 16px 32px rgba(0,0,0,.16); border-color:rgba(0,0,0,.12) }

    .stripe{ content:""; position:absolute; inset:0 0 auto 0; height:6px; z-index:2; background:linear-gradient(90deg, rgba(0,0,0,.16), rgba(0,0,0,.06)) }

    .cover{ width:100%; aspect-ratio:1/1; display:block; object-fit:cover; background:#e9dbc7; filter:contrast(.95) saturate(.95) }

    .meta{ padding:14px 16px 16px; background:linear-gradient(180deg, rgba(241,227,207,.6), rgba(241,227,207,.4)); border-top:1px solid rgba(0,0,0,.06) }

    .tittel{ margin:0 0 6px; font-family:"Archivo Black", system-ui, sans-serif; font-weight:400; text-transform:uppercase; letter-spacing:.005em; font-size:1.18rem; line-height:1.15 }
    .under{ margin:0; color:var(--muted); font-size:.98rem }

    footer{ text-align:center; color:var(--muted); font-size:.95rem; padding: 0 20px 64px }
    .sweet{ display:inline-flex; align-items:center; gap:10px }
    .seed{ width:10px; height:10px; border-radius:50%; background:#E25C44 }
  </style>
</head>
<body>
  <!-- Brev -->
  <header class="brev container" aria-label="Brev fra Marcus til Athina">
    <h1>Kjære Athina</h1>
    <p>Jeg ville lage et lite sted for oss, et sted hvor musikken kan få samle seg, kapittel for kapittel. Når du trykker på listene, håper jeg du kjenner at jeg tenker på deg</p>
  </header>

  <!-- Grid 3-spalter (kort er hele lenker) -->
  <main>
    <section class="grid" id="grid" aria-label="Spillelister"></section>
  </main>

  <footer>
    <span class="sweet"><span class="seed" aria-hidden="true"></span> Laget med omtanke — Marcus</span>
  </footer>

  <script>
    async function loadPlaylists(){
      try{
        const res = await fetch('playlist.json', { cache: 'no-cache' });
        const data = await res.json();
        renderPlaylists(Array.isArray(data) ? data : []);
      }catch(err){
        console.error('Kunne ikke laste playlist.json', err);
        renderPlaylists([]);
      }
    }

    function renderPlaylists(list){
      const grid = document.getElementById('grid');
      grid.innerHTML = '';
      list.forEach(pl => {
        const card = document.createElement('a');
        card.className = 'plate';
        card.href = pl.url; card.target = '_blank'; card.rel = 'noopener';
        card.setAttribute('aria-label', `${pl.title}: ${pl.subtitle}`);

        const stripe = document.createElement('span'); stripe.className = 'stripe';
        const img = document.createElement('img'); img.className = 'cover'; img.src = pl.cover; img.alt = `${pl.title} cover`; img.loading = 'lazy'; img.decoding = 'async';
        const meta = document.createElement('div'); meta.className = 'meta';
        const h = document.createElement('h2'); h.className = 'tittel'; h.textContent = pl.title;
        const s = document.createElement('p'); s.className = 'under'; s.textContent = pl.subtitle;
        meta.append(h,s);
        card.append(stripe, img, meta);
        grid.appendChild(card);
      });
    }

    loadPlaylists();
  </script>
</body>
</html>
