<!doctype html>
<html lang="no">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Kapitler — Spillelister</title>
  <!-- Typografi (print-inspirert) -->
  <link href="https://fonts.googleapis.com/css2?family=Archivo+Black&family=Inter:wght@300;400;600&family=Newsreader:ital,wght@0,300;1,300&display=swap" rel="stylesheet">
  <style>
    :root{
      --paper:#F1E3CF; /* tydeligere beige papir */
      --ink:#111111;
      --muted:#3D3A36;
      --acc-blue:#0073C6;
      --acc-red:#D93C3C;
      --acc-gold:#C9A66B;
      --acc-plum:#5B4A58;
      --acc-sky:#AEC6CF;
      --maxw:1200px;
      --outer-pad:56px;
      --gap:28px;
      --radius:10px;
      --shadow:0 10px 24px rgba(0,0,0,.10);
      --ease:cubic-bezier(.22,.61,.36,1);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;background:var(--paper);color:var(--ink);
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      line-height:1.65;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;
    }
    /* Papirtekstur og levende vignett */
    body::before,body::after{content:"";position:fixed;inset:0;pointer-events:none;z-index:0}
    body::before{opacity:.22;mix-blend-mode:multiply;background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="260" height="260"><filter id="f"><feTurbulence type="fractalNoise" baseFrequency="0.85" numOctaves="3" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23f)" opacity="0.28"/></svg>');}
    body::after{opacity:.20;background:radial-gradient(120% 120% at 75% 15%,rgba(0,0,0,.06),transparent 55%),radial-gradient(140% 120% at 10% 90%,rgba(0,0,0,.06),transparent 55%);mix-blend-mode:multiply;animation:vignetteDrift 60s linear infinite}
    @keyframes vignetteDrift{0%{transform:translate3d(0,0,0)}50%{transform:translate3d(1.2rem,-1.2rem,0)}100%{transform:translate3d(0,0,0)}}

    /* Organiske fargeformer som driver sømløst */
    .shape{position:fixed;z-index:0;pointer-events:none;opacity:.10;filter:blur(.2px) saturate(.9);mix-blend-mode:multiply}
    .shape.a{top:-60px;left:-40px;width:44vw;max-width:620px;aspect-ratio:1/1;background:
      radial-gradient(60% 60% at 40% 40%,var(--acc-sky),transparent 70%),
      radial-gradient(45% 45% at 70% 70%,var(--acc-gold),transparent 70%);
      animation:floatA 48s linear infinite}
    .shape.b{bottom:-80px;right:-60px;width:48vw;max-width:680px;aspect-ratio:1/1;background:
      radial-gradient(55% 55% at 60% 40%,var(--acc-plum),transparent 70%),
      radial-gradient(40% 40% at 30% 70%,var(--acc-red),transparent 70%);
      animation:floatB 52s linear infinite}
    @keyframes floatA{0%{transform:translate3d(0,0,0) rotate(0deg)}25%{transform:translate3d(12px,8px,0) rotate(3deg)}50%{transform:translate3d(0,14px,0) rotate(0deg)}75%{transform:translate3d(-10px,6px,0) rotate(-2deg)}100%{transform:translate3d(0,0,0) rotate(0deg)}}
    @keyframes floatB{0%{transform:translate3d(0,0,0) rotate(0deg)}25%{transform:translate3d(-14px,-6px,0) rotate(-2deg)}50%{transform:translate3d(0,-12px,0) rotate(0deg)}75%{transform:translate3d(10px,-4px,0) rotate(2deg)}100%{transform:translate3d(0,0,0) rotate(0deg)}}

    .ink{text-shadow:0 .3px 0 rgba(0,0,0,.2)}
    .lead{font-family:"Newsreader",Georgia,serif;font-weight:300;font-style:italic}
    .page{position:relative;z-index:1;max-width:var(--maxw);margin:0 auto;padding:var(--outer-pad) 24px}
    .grid12{display:grid;grid-template-columns:repeat(12,minmax(0,1fr));gap:var(--gap)}
    header.brev{margin-bottom:calc(var(--outer-pad) * .6)}
    .brev h1{font-family:"Archivo Black",sans-serif;font-weight:400;letter-spacing:.01em;font-size:clamp(2rem,3.2vw,2.8rem);line-height:1.08;margin:0 0 10px}
    .brev p{font-family:"Newsreader",Georgia,serif;font-weight:300;font-style:italic;color:var(--muted);max-width:70ch;margin:0 auto;font-size:clamp(1.02rem,1.2vw,1.15rem);text-shadow:0 .3px 0 rgba(0,0,0,.15)}

    /* Kort-grid (alltid 3-spalter størrelse) */
    .cards{grid-column:2 / span 10;display:grid;grid-template-columns:repeat(12,minmax(0,1fr));gap:var(--gap)}
    .cards .cell{grid-column:span 4}

    /* Vind-animasjon på kort (lenket i en bølge) */
    .plate{display:block;position:relative;border-radius:var(--radius);overflow:hidden;background:rgba(247,242,233,.42);border:1px solid rgba(0,0,0,.10);box-shadow:var(--shadow);text-decoration:none;color:inherit;transform:translateZ(0);will-change:transform;animation:wind 10s var(--ease) infinite}
    .plate::after{content:"";position:absolute;inset:0;pointer-events:none;mix-blend-mode:multiply;opacity:.10;background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="140" height="140"><filter id="f"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23f)" opacity="0.25"/></svg>');}
    .plate:hover{box-shadow:0 10px 20px rgba(0,0,0,.12);filter:saturate(.98) brightness(.98)}
    /* Sammenlenket bølge – forsinkelse per posisjon */
    .cards .cell:nth-child(3n+1) .plate{animation-delay:0s}
    .cards .cell:nth-child(3n+2) .plate{animation-delay:0.8s}
    .cards .cell:nth-child(3n)   .plate{animation-delay:1.6s}
    @keyframes wind{0%{transform:translate3d(0,0,0) rotate(0)}20%{transform:translate3d(3px,-4px,0) rotate(-.6deg)}40%{transform:translate3d(0,-6px,0) rotate(0)}60%{transform:translate3d(-3px,-2px,0) rotate(.6deg)}80%{transform:translate3d(0,1px,0) rotate(0)}100%{transform:translate3d(0,0,0) rotate(0)}}

    /* Sømløs stripe over cover – følger paletten */
    .stripe{position:absolute;inset:0 0 auto 0;height:6px;z-index:2;background:linear-gradient(90deg,var(--acc-blue),var(--acc-red),var(--acc-gold),var(--acc-plum),var(--acc-sky),var(--acc-blue));background-size:600% 100%;animation:stripeShift 24s linear infinite}
    @keyframes stripeShift{0%{background-position:0% 0}100%{background-position:-600% 0}}

    .cover{width:100%;aspect-ratio:1/1;display:block;object-fit:cover;filter:contrast(.96) saturate(.96)}

    footer{padding:60px 24px 90px}
    .footer-note{font:300 0.95rem/1.6 Inter,system-ui;color:var(--muted);text-align:center;margin:0 0 10px}
    .quote{max-width:980px;margin:0 auto;text-align:center;font-family:"Newsreader",Georgia,serif;font-weight:300;font-style:italic;font-size:1.05rem;line-height:1.9;color:var(--muted)}
    .quote strong{font-family:"Archivo Black",sans-serif;font-weight:400;font-style:normal;font-size:1.08rem;letter-spacing:.03em;color:var(--ink)}

    @media(max-width:900px){.cards .cell{grid-column:span 6}}
    @media(max-width:640px){.cards{grid-column:1 / -1}.cards .cell{grid-column:span 12}}
    @media(prefers-reduced-motion:reduce){*{animation:none!important;transition:none!important}.reveal{opacity:1;transform:none}}
  </style>
</head>
<body>
  <div class="shape a" aria-hidden="true"></div>
  <div class="shape b" aria-hidden="true"></div>
  <div class="page">
    <header class="brev grid12">
      <h1 class="ink" style="grid-column:2 / span 10">Kjære Athina</h1>
      <p class="lead" style="grid-column:2 / span 10">Jeg har laget dette lille stedet for oss, et sted hvor musikken kan samle seg, kapittel for kapittel. Når du åpner listene, håper jeg du kjenner at tankene mine er hos deg.</p>
    </header>
    <section class="cards grid12" id="grid" aria-label="Spillelister"></section>
    <footer class="grid12">
      <p class="footer-note" style="grid-column:2 / span 10">En liten hilsen fra meg, et sitat jeg satte pris på.</p>
      <p class="quote" style="grid-column:2 / span 10"><strong>If we're dating</strong>, I don't want to be your first priority. I shouldn't be. I want your first priority to be you, your ambitions, your life, and your future. <strong>Stay focused</strong>, I want the best for you. I want to be your motivation, your support, your help to grow. <strong>I'm not gonna let you give up on yourself.</strong> I got you if you got me.</p>
    </footer>
  </div>
  <script>
    async function loadPlaylists(){
      try{
        const res=await fetch('playlist.json',{cache:'no-cache'});
        const data=await res.json();
        renderPlaylists(Array.isArray(data)?data:[]);
      }catch(e){console.error(e);}
    }
    function renderPlaylists(list){
      const grid=document.getElementById('grid');
      grid.innerHTML='';
      list.forEach((pl)=>{
        const cell=document.createElement('div');
        cell.className='cell';
        const card=document.createElement('a');
        card.className='plate';
        card.href=pl.url;card.target='_blank';card.rel='noopener';
        const stripe=document.createElement('span');stripe.className='stripe';
        const img=document.createElement('img');img.className='cover';img.src=pl.cover;img.alt=`${pl.title||''} cover`;img.loading='lazy';
        card.append(stripe,img);
        cell.append(card);grid.appendChild(cell);
      });
    }
    document.addEventListener('DOMContentLoaded',loadPlaylists);
  </script>
</body>
</html>
