<!doctype html>
<html lang="no">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Kapitler — Spillelister</title>
  <link href="https://fonts.googleapis.com/css2?family=Archivo+Black&family=Inter:wght@300;400;500;600&family=Newsreader:ital,wght@1,400;1,500&display=swap" rel="stylesheet">
  <style>
    :root{
      --paper:#F1E3CF;
      --ink:#111;
      --muted:#3D3A36;
      --maxw:1120px;
      --radius:10px;
      --shadow:0 12px 28px rgba(0,0,0,.12);
      --gap:26px;
      --c1:#0073C6;
      --c2:#D93C3C;
      --c3:#F3B36B;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; background:var(--paper); color:var(--ink);
      font-family:Inter, sans-serif; line-height:1.65;
      -webkit-font-smoothing:antialiased;
    }

    /* Forsterket papirtekstur */
    body::before, body::after{content:""; position:fixed; inset:0; pointer-events:none; z-index:0}
    body::before{ 
      background:radial-gradient(120% 120% at 75% 15%, rgba(0,0,0,.06), transparent 60%),
                 radial-gradient(140% 120% at 10% 90%, rgba(0,0,0,.06), transparent 60%);
      mix-blend-mode:multiply; opacity:.3 
    }
    body::after{ 
      opacity:.22; mix-blend-mode:multiply; 
      background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="300" height="300"><filter id="f"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="4" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23f)" opacity="0.25"/></svg>');
    }

    .container{position:relative; z-index:1; max-width:var(--maxw); margin:0 auto; padding:48px 20px 24px}

    header.brev{text-align:center; padding-top:56px}
    .brev h1{ font-family:"Archivo Black"; font-size:clamp(2rem,3.2vw,2.6rem); margin:0 0 12px }
    .brev p{ font-family:"Newsreader", serif; font-style:italic; color:var(--muted); max-width:70ch; margin:0 auto; font-size:1.1rem; }

    main{padding:16px 20px 96px}
    .grid{ display:grid; gap:var(--gap); grid-template-columns:repeat(3,1fr); max-width:var(--maxw); margin:0 auto }

    .plate{ display:block; position:relative; border-radius:var(--radius); overflow:hidden; background:rgba(255,255,255,.55); border:1px solid rgba(0,0,0,.08); box-shadow:var(--shadow); transition:transform .25s ease, box-shadow .25s ease; }
    .plate:hover{ transform:translateY(-4px); box-shadow:0 16px 32px rgba(0,0,0,.16); border-color:rgba(0,0,0,.12) }

    .stripe{ position:absolute; inset:0 0 auto 0; height:6px; z-index:2;
      background:linear-gradient(90deg, var(--c1), var(--c2), var(--c3), var(--c1));
      background-size:200% 100%;
      animation: stripeShift 14s linear infinite;
    }
    @keyframes stripeShift{ to{ background-position:-200% 0 } }

    .cover{ width:100%; aspect-ratio:1/1; display:block; object-fit:cover; }

    footer{ position:relative; z-index:1; text-align:center; padding:48px 20px 72px; max-width:var(--maxw); margin:0 auto; }
    .quote{ font-family:"Newsreader", Georgia, serif; font-style:italic; font-size:1.3rem; line-height:1.75; color:var(--muted); position:relative; }
    .quote::before, .quote::after{
      content:'\201C';
      font-size:4rem;
      position:absolute;
      color:rgba(0,0,0,.15);
      font-family:serif;
    }
    .quote::before{ left:-20px; top:-20px }
    .quote::after{ content:'\201D'; right:-20px; bottom:-40px }

    @media (prefers-reduced-motion:reduce){ *{animation:none!important; transition:none!important} }
  </style>
</head>
<body>
  <header class="brev container" aria-label="Brev fra Marcus til Athina">
    <h1>Kjære Athina</h1>
    <p>Jeg har laget dette lille stedet for oss – et sted hvor musikken kan samle seg, kapittel for kapittel. Når du åpner listene, håper jeg du kjenner at tankene mine er hos deg.</p>
  </header>

  <main>
    <section class="grid" id="grid" aria-label="Spillelister"></section>
  </main>

  <footer>
    <p class="quote">If we're dating. I don't want to be your first priority. I shouln't be. I want your first priority to be you, your ambitions, your life, and your future. Stay focused. I want the best for you. Don't let me be your distraction, let me be your motivation, your support, and your help to grow. I'm not gonna let you give up on yourself. I got you if you got me.</p>
  </footer>

  <script>
    async function loadPlaylists(){
      try{
        const res = await fetch('playlist.json', { cache:'no-cache' });
        const data = await res.json();
        renderPlaylists(Array.isArray(data) ? data : []);
      }catch(e){ console.error(e); }
    }

    function renderPlaylists(list){
      const grid = document.getElementById('grid');
      grid.innerHTML='';
      list.forEach(pl => {
        const card = document.createElement('a');
        card.className='plate';
        card.href=pl.url; card.target='_blank'; card.rel='noopener';

        const stripe=document.createElement('span'); stripe.className='stripe';
        const img=document.createElement('img'); img.className='cover'; img.src=pl.cover; img.alt=(pl.title||'')+" cover"; img.loading='lazy';

        card.append(stripe,img);
        grid.appendChild(card);
      });
    }

    document.addEventListener('DOMContentLoaded', loadPlaylists);
  </script>
</body>
</html>
